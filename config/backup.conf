#!/bin/bash
# Backup Manager - Archivo de configuración
# Copia este archivo a backup.conf y personaliza

# ============================================
# ARCHIVOS A RESPALDAR
# ============================================
# Lista de archivos en WORKSPACE_DIR separados por espacio
BACKUP_FILES="SOUL.md MEMORY.md TOOLS.md AGENTS.md USER.md IDENTITY.md HEARTBEAT.md"

# Directorio de trabajo de OpenClaw
WORKSPACE_DIR="/home/cmadrid/.openclaw/workspace"

# Retención: número de backups a mantener (0 = ilimitado)
RETENTION_COUNT=50

# ============================================
# DESTINO: LOCAL (disco/archivos)
# ============================================
LOCAL_ENABLED=true
LOCAL_BACKUP_DIR="/home/cmadrid/.openclaw/workspace/backups/memory"

# ============================================
# DESTINO: S3 (AWS S3 o compatible)
# ============================================
# Para usar S3 necesitas:
# 1. AWS CLI instalado: pip install awscli
# 2. Credenciales configuradas: aws configure
#    o variables de entorno AWS_ACCESS_KEY_ID / AWS_SECRET_ACCESS_KEY

S3_ENABLED=false
S3_BUCKET="my-openclaw-backups"
S3_PREFIX="valentino/agent-backups"
S3_REGION="us-east-1"

# Para S3 compatible (MinIO, Wasabi, DigitalOcean Spaces, etc.)
# Dejar vacío para AWS S3 estándar
S3_ENDPOINT=""

# Limpieza automática de backups antiguos en S3
S3_CLEANUP_OLD=false
S3_RETENTION_DAYS=30

# ============================================
# DESTINO: REMOTO (rsync/SSH)
# ============================================
# Para usar backup remoto necesitas:
# 1. rsync instalado
# 2. SSH key configurada (~/.ssh/id_rsa_backup)
# 3. Servidor con rsync disponible

REMOTE_ENABLED=false
REMOTE_HOST="backup-server.example.com"
REMOTE_USER="backup"
REMOTE_PATH="/backups/openclaw"
REMOTE_SSH_KEY="/home/cmadrid/.ssh/id_rsa_backup"

# ============================================
# OPCIONES AVANZADAS
# ============================================
# Compresión de backups (requiere gzip)
ENABLE_COMPRESSION=false

# Notificación después del backup (opcional)
# NOTIFY_ON_SUCCESS=false
# NOTIFY_ON_FAILURE=true
# NOTIFY_WEBHOOK=""

# Encriptación de backups (experimental)
# ENABLE_ENCRYPTION=false
# ENCRYPTION_KEY_FILE=""
